apiVersion: tekton.dev/v1
kind: Task
metadata:
  name: deploy-ocp
spec:
  params:
    - name: ocp-version
      type: string
    - name: event-type
      type: string
  steps:
    - name: check-pull-request
      image: alpine:latest
      script: |
        #!/bin/sh
        if [ -n "$TEKTON_PULL_PULL_REF" ]; then
          echo "Running from pull request"
        else
          echo "Not running from pull request"
        fi
        printenv
    - name: hello
      image: quay.io/redhat-appstudio/appstudio-utils:25c43952f247797d8de4cf16e668b954292e8794
      script: |
        #!/bin/bash
        echo "Task Annotations:"
        cd /workspace
        echo $(params.event-type)
        oc version
        oc whoami
        env
        printenv
